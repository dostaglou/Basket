<%= link_to "Add New", new_basket_item_path, data: { turbo_frame: "new_basket_item" }, type: "button", class: "w-full btn bg-purple-100" %>
<div data-controller="basket-items">
  <%= form_with(url: basket_items_path, method: :get, data: {turbo_frame: "basket_items"}) do |form| %>
    <%= form.select :basket_id, @baskets.pluck(:name, :id) %>

    <%= form.text_field :query, class: "" %>

    <%= form.submit 'Search', name: nil, class: "btn" %>
  <% end %>

  <%= turbo_frame_tag "basket_items" do %>
    <div class="max-w-7xl flex flex-wrap justify-center" id="basket_items">
        <% @basket_items.each do |basket_item| %>
          <%= render basket_item %>
        <% end %>
    </div>
  <% end %>
</div>

<%== pagy_nav(@pagy) %>

<%= turbo_frame_tag "new_basket_item" %>
